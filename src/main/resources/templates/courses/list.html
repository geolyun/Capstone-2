<!-- src/main/resources/templates/courses/list.html -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>ì½”ìŠ¤ ëª©ë¡</title>
    <style>
        .tab-menu {
            display: flex;
            gap: 20px;
            border-bottom: 2px solid #ccc;
            margin-bottom: 20px;
        }
        .tab-menu a {
            text-decoration: none;
            padding: 10px 15px;
            border-radius: 10px 10px 0 0;
            background-color: #f0f0f0;
            color: #333;
            font-weight: bold;
        }
        .tab-menu a.active {
            background-color: #007bff;
            color: white;
        }
        .course-card {
            border: 1px solid #ddd;
            padding: 15px;
            border-radius: 12px;
            margin-bottom: 15px;
        }
    </style>
</head>
<body>
<h1>ğŸ¯ ì½”ìŠ¤ ëª©ë¡</h1>

<div class="tab-menu">
    <a th:href="@{/courses(sortType='new')}"
       th:classappend="${searchDto.sortType} == 'popular' ? '' : 'active'">ì „ì²´</a>
    <a th:href="@{/courses(sortType='popular')}"
       th:classappend="${searchDto.sortType} == 'popular' ? 'active' : ''">ì¸ê¸°</a>
</div>

<div th:if="${coursePage.content.size() == 0}">
    <p>ë“±ë¡ëœ ì½”ìŠ¤ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
</div>

<div th:each="course : ${coursePage.content}" class="course-card">
    <h3>
        <a th:href="@{'/courses/' + ${course.id}}" th:text="${course.title}">ì½”ìŠ¤ ì œëª©</a>
    </h3>
    <p th:text="${course.summary}">ì½”ìŠ¤ ìš”ì•½</p>
    <p>
        â¤ï¸ <span th:text="${course.likeCount}">0</span> /
        ğŸ•’ <span th:text="${#temporals.format(course.createdAt, 'yyyy-MM-dd')}">ë‚ ì§œ</span>
    </p>
</div>

<div class="pagination" style="text-align:center;">
    <a th:if="${coursePage.hasPrevious()}"
       th:href="@{|/courses?page=${coursePage.number - 1}&sortType=${searchDto.sortType}|}">&lt; ì´ì „</a>
    <span th:text="${coursePage.number + 1} + ' / ' + ${coursePage.totalPages}"></span>
    <a th:if="${coursePage.hasNext()}"
       th:href="@{|/courses?page=${coursePage.number + 1}&sortType=${searchDto.sortType}|}">ë‹¤ìŒ &gt;</a>
</div>

</body>
</html>
